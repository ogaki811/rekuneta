!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){e.exports=t(1)},function(e,r,t){"use strict";function n(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return t}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.r(r);var i=function(){function e(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.domain,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:location.search.substring(1),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=r,this.expireSeconds=t,this.domain=n,this.query=o,this.cookieHolder=i}return function(e,r,t){r&&o(e.prototype,r),t&&o(e,t)}(e,[{key:"track",value:function(){var e=this.getAidFromQuery(this.query),r=this.getAidFrom1stCookie(this.cookieHolder.cookie);return e?(this.setAidInto1stCookie(e),e):r?(this.setAidInto1stCookie(r),r):null}},{key:"getAidFromQuery",value:function(e){for(var r=e.split("&"),t=0;t<r.length;t++){var o=n(r[t].split("="),2),i=o[0],a=o[1];if(i===this.key)return a}return null}},{key:"getAidFrom1stCookie",value:function(e){for(var r=e.split("; "),t=0;t<r.length;t++){var o=n(r[t].split("="),2),i=o[0],a=o[1];if(i===this.key)return a}return null}},{key:"setAidInto1stCookie",value:function(e){this.cookieHolder.cookie=this.createCookie(e)}},{key:"createCookie",value:function(e){return"".concat(this.key,"=").concat(e,"; domain=").concat(this.domain,"; path=/; max-age=").concat(this.expireSeconds)}}]),e}();function a(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return new Image};!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint=r,this.imageFactory=t}return function(e,r,t){r&&a(e.prototype,r),t&&a(e,t)}(e,[{key:"notify",value:function(e,r){var t="".concat(this.endpoint,"?").concat(this.createQuery(e)),n=this.imageFactory();return n.src=t,n.onload=r(),n}},{key:"createQuery",value:function(e){return Object.keys(e).filter(function(r){return null!==e[r]&&void 0!==e[r]}).map(function(r){return"".concat(r,"=").concat(e[r])}).join("&")}}]),e}();function u(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(r,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:location.href,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document.referrer;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.serviceId=r.service_id,this.urlMacro="${URL_MACRO}"===r.url_macro?null:r.url_macro,this.referrerMacro="${REFERRER_MACRO}"===r.referrer_macro?null:r.referrer_macro,this.propertyId=this._propertyId(r.property_id),this.keyValueSet=t||[],this.url=o,this.referrer=i,this.cacheBuster=n}return function(e,r,t){r&&u(e.prototype,r),t&&u(e,t)}(e,[{key:"_propertyId",value:function(e){return null==e||e.includes("${PROPERTY_ID}")?null:this._toArrayString(e)}},{key:"_toArrayString",value:function(e){var r=this._toArray(e);return r?"[".concat(r,"]"):null}},{key:"_toArray",value:function(e){try{return Array.prototype.concat.apply([],JSON.parse("[".concat(e,"]")))}catch(e){return null}}},{key:"collect",value:function(e){return{service_id:this.serviceId,url:this.url?encodeURIComponent(this.url):null,url_macro:this.urlMacro?encodeURIComponent(this.urlMacro):null,referrer:this.referrer?encodeURIComponent(this.referrer):null,referrer_macro:this.referrerMacro?encodeURIComponent(this.referrerMacro):null,property_id:this.propertyId?encodeURIComponent(this.propertyId):null,enc_aid:e||null,cbt:this.cacheBuster.generate(),kv_set:encodeURIComponent(JSON.stringify(this.keyValueSet))}}}]),e}();function s(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,r,t){r&&s(e.prototype,r),t&&s(e,t)}(e,[{key:"generate",value:function(){return""+Math.floor(100*Math.random()+100)+(new Date).getTime()}}]),e}(),d={japan:{endpoint:"universe.send.microad.jp/tr"},china:{endpoint:"universe.send.microad-cn.com/tr"},apac:{endpoint:"universe.send.microadinc.com/tr"}};function h(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function e(){var r=this;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.send_uri="https://cache.send.microad.jp/js/";var t=document.createElement("iframe");t.width="1",t.height="1",t.frameborder=0,t.setAttribute("style","position:absolute; top:-9999px; left: -9999px; border-style: none"),t.id="universe_cookie_sync",t.src=this.send_uri+"universe_cookie_sync.html",t.addEventListener("load",function(){r.overwriteTriggerSync()}),document.body.appendChild(t),this.iframe=t,this.queue=[]}return function(e,r,t){r&&h(e.prototype,r),t&&h(e,t)}(e,[{key:"triggerSync",value:function(e){this.queue.push(e)}},{key:"doTriggerSync",value:function(e){this.iframe.contentWindow.postMessage({processId:e},"*")}},{key:"overwriteTriggerSync",value:function(){for(this.triggerSync=this.doTriggerSync;this.queue.length>0;)this.triggerSync(this.queue.shift())}}]),e}(),p=window.microAdUniverseTracker||{};if(p.iframe=new y,p.track=function(e,r){var t="https://".concat(d.japan.endpoint),n=new f,o=n.generate();p.iframe.triggerSync(o);var a=new i("microad_enc_aid",31536e3).track(),u=new l(e,r,n).collect(a);new c(t).notify(u,function(){p.iframe.triggerSync(o)})},Array.isArray(p.queue))for(var v;void 0!==(v=p.queue.shift());)p.track(v[0],v[1])}]);